{{!< default}}

{{#post}}

<main id="gh-main" class="gh-main">
    <article class="gh-article {{post_class}}">

        <header class="gh-article-header gh-canvas">
            <span class="gh-article-meta">
                {{#primary_author}}By <a href="{{url}}">{{name}}</a>{{/primary_author}}
                {{#if primary_tag}}
                    in
                    <a class="gh-article-tag" href="{{primary_tag.url}}">{{primary_tag.name}}</a>
                {{/if}}
                —
                <time datetime="{{date format="YYYY-MM-DD"}}">{{date}}</time>
            </span>

            <h1 class="gh-article-title">{{title}}</h1>

            <div class="copy-link-container" style="text-align: right; margin-top: 10px;">
                <button class="copy-link-btn" onclick="copyCurrentPostLink()" style="background: none; border: none; cursor: pointer;">
                    <i class="bi bi-share-fill" style="font-size: 24px; color: black;"></i>
                </button>
            </div>

            {{#if custom_excerpt}}
                <p class="gh-article-excerpt">{{custom_excerpt}}</p>
            {{/if}}

            {{> "feature-image"}}
        </header>

        <div class="gh-content gh-canvas">
            {{content}}

            <div class="copy-link-container" style="text-align: right; margin-top: 20px;">
                <button class="copy-link-btn" onclick="copyCurrentPostLink()" style="background: none; border: none; cursor: pointer;">
                    <i class="bi bi-share-fill" style="font-size: 24px; color: black;"></i>
                </button>
            </div>
        </div>

        {{!-- {{#if comments}}
            <div class="gh-comments gh-canvas">
                {{comments}}
            </div>
        {{/if}} --}}

        <footer class="gh-article-footer gh-canvas{{#if @site.comments_enabled}}{{#unless @member}} no-border{{/unless}}{{#unless access}} no-border{{/unless}}{{/if}}">
            <nav class="gh-navigation">
                <div class="gh-navigation-previous">
                    {{#prev_post}}
                        <a class="gh-navigation-link" href="{{url}}">
                            <span class="gh-navigation-label">{{> icons/arrow-left}} Previous issue</span>
                            <h4 class="gh-navigation-title">{{title}}</h4>
                        </a>
                    {{/prev_post}}
                </div>

                <div class="gh-navigation-middle"></div>

                <div class="gh-navigation-next">
                    {{#next_post}}
                        <a class="gh-navigation-link" href="{{url}}">
                            <span class="gh-navigation-label">Next issue {{> icons/arrow-right}}</span>
                            <h4 class="gh-navigation-title">{{title}}</h4>
                        </a>
                    {{/next_post}}
                </div>
            </nav>
        </footer>

    </article>
</main>

{{/post}}

<script>
    function copyCurrentPostLink() {
        const postUrl = window.location.href;
        navigator.clipboard.writeText(postUrl).then(() => {
            alert("현재 글 링크가 복사되었습니다.");
        }).catch(err => {
            console.error("링크 복사에 실패하였습니다.\n에러:", err);
        });
    }
</script>